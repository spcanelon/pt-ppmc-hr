[
  {
    "objectID": "01_data_cleaning.html",
    "href": "01_data_cleaning.html",
    "title": "Data cleaning",
    "section": "",
    "text": "Code# install XLConnect\n# remotes::install_github(\"miraisolutions/xlconnect\")\n\n# install Java: https://www.timsanteford.com/posts/how-to-install-java-on-macos-using-homebrew/\n\n# src: https://stackoverflow.com/a/54827489\n\n# necessary for XLConnect\noptions(java.parameters = c(\"-XX:+UseConcMarkSweepGC\", \"-Xmx8192m\")) # set Java limit\ngc() # garbage collection\n\n          used (Mb) gc trigger (Mb) limit (Mb) max used (Mb)\nNcells  615054 32.9    1399475 74.8         NA   715642 38.3\nVcells 1133744  8.7    8388608 64.0     204800  2011617 15.4\n\nCodepacman::p_load(\"janitor\",\n               \"readr\",\n               \"dplyr\",\n               \"lubridate\",\n               \"stringr\",\n               \"labelled\",\n               \"gtsummary\",\n               \"XLConnect\")\n\n\n\nCode# source(here::here(\"R\", \"helper_functions.R\"))",
    "crumbs": [
      "Project",
      "Data cleaning"
    ]
  },
  {
    "objectID": "01_data_cleaning.html#setup",
    "href": "01_data_cleaning.html#setup",
    "title": "Data cleaning",
    "section": "",
    "text": "Code# install XLConnect\n# remotes::install_github(\"miraisolutions/xlconnect\")\n\n# install Java: https://www.timsanteford.com/posts/how-to-install-java-on-macos-using-homebrew/\n\n# src: https://stackoverflow.com/a/54827489\n\n# necessary for XLConnect\noptions(java.parameters = c(\"-XX:+UseConcMarkSweepGC\", \"-Xmx8192m\")) # set Java limit\ngc() # garbage collection\n\n          used (Mb) gc trigger (Mb) limit (Mb) max used (Mb)\nNcells  615054 32.9    1399475 74.8         NA   715642 38.3\nVcells 1133744  8.7    8388608 64.0     204800  2011617 15.4\n\nCodepacman::p_load(\"janitor\",\n               \"readr\",\n               \"dplyr\",\n               \"lubridate\",\n               \"stringr\",\n               \"labelled\",\n               \"gtsummary\",\n               \"XLConnect\")\n\n\n\nCode# source(here::here(\"R\", \"helper_functions.R\"))",
    "crumbs": [
      "Project",
      "Data cleaning"
    ]
  },
  {
    "objectID": "01_data_cleaning.html#import-data",
    "href": "01_data_cleaning.html#import-data",
    "title": "Data cleaning",
    "section": "Import data",
    "text": "Import data\n\nCodefile &lt;- here::here(\"data_raw\", \"ppmc_ee_20251219.xlsx\")\nfile_annotated &lt;- here::here(\"data_raw\", \"ppmc_ee_20251219_annotated.xlsx\")\npassword &lt;- keyring::key_get(\"ppmc-ee\")\n\nwb &lt;- loadWorkbook(filename = file_annotated, password = password)\n\n# List available sheets (to confirm sheet names)\nsheets &lt;- getSheets(wb)\nprint(sheets)  # Output: e.g., \"ALL EE \", \"DB_Pension\"\n\n [1] \"Pivot ALL\"                 \"ALL EE \"                  \n [3] \"Pivot less than 62K\"       \"Employees Less than 62K\"  \n [5] \"Pivot 62K-100K\"            \"Employees 62K-100K\"       \n [7] \"Pivot 100K-150K\"           \"Employees 100K-150K\"      \n [9] \"Pivot 150-200K\"            \"Employees 150-200K\"       \n[11] \"Pivot More than 200K\"      \"Employees More than 200K \"\n[13] \"Bens Info\"                 \"Sheet12\"                  \n[15] \"DB_Pension\"                \"DC_403b Retirement\"       \n[17] \"Retirement Loans\"          \"LOA_WC_No Sal Data\"       \n[19] \"Roster\"                   \n\nCode# Read a specific sheet (e.g., \"ALL EE\")\ndata_all_ee &lt;- readWorksheet(wb, sheet = \"ALL EE \", startRow = 1, header = TRUE) |&gt; clean_names()\ndata_db_pension &lt;- readWorksheet(wb, sheet = \"DB_Pension\", startRow = 1, header = TRUE) |&gt; clean_names()\ndata_dc_403b &lt;- readWorksheet(wb, sheet = \"DC_403b Retirement\", startRow = 1, header = TRUE) |&gt; clean_names()\ndata_retirement_loans &lt;- readWorksheet(wb, sheet = \"Retirement Loans\", startRow = 1, header = TRUE)\n# # --- hidden data\n# data_loa_wc_nosal &lt;- readWorksheet(wb, sheet = \"LOA_WC_No Sal Data\", startRow = 1, header = TRUE) |&gt; clean_names()\n# data_roster &lt;- readWorksheet(wb, sheet = \"Roster\", startRow = 1, header = TRUE) |&gt; clean_names()\n# # --- hidden data\ngc()\n\n          used (Mb) gc trigger  (Mb) limit (Mb) max used (Mb)\nNcells 1103694   59    2274762 121.5         NA  1399475 74.8\nVcells 2090610   16    8388608  64.0     204800  2737044 20.9",
    "crumbs": [
      "Project",
      "Data cleaning"
    ]
  },
  {
    "objectID": "01_data_cleaning.html#overview",
    "href": "01_data_cleaning.html#overview",
    "title": "Data cleaning",
    "section": "Overview",
    "text": "Overview\n\nCode# summarytools::view(\n#   summarytools::dfSummary(data_all_ee,\n#                           col.widths = c(100, 100, 200, 100, 100, 100, 100))\n#   )\n\nsummarytools::dfSummary(\n  data_all_ee,\n  plain.ascii  = FALSE, \n  style        = \"grid\", \n  graph.magnif = 0.82, \n  varnumbers   = FALSE,\n  valid.col    = FALSE,\n  tmp.img.dir  = \"/tmp\"\n)\nData Frame Summary\ndata_all_ee\nDimensions: 3094 x 40Duplicates: 0\n\n\n\n\n\n\n\n\n\nVariable\nStats / Values\nFreqs (% of Valid)\nGraph\nMissing\n\n\n\nee_id\n[numeric]\nMean (sd) : 6913594 (39458362)\nmin &lt; med &lt; max:\n17747 &lt; 979922.5 &lt; 548417567\nIQR (CV) : 422778.5 (5.7)\n3094 distinct values\n\n0\n(0.0%)\n\n\npenn_id\n[numeric]\nMean (sd) : 45924007 (24616205)\nmin &lt; med &lt; max:\n10001319 &lt; 45449180 &lt; 89998369\nIQR (CV) : 43863556 (0.5)\n3094 distinct values\n\n0\n(0.0%)\n\n\nuphs_derived_resource_relationship_type\n[character]\n1. Payroll Resource\n3094 (100.0%)\n\n0\n(0.0%)\n\n\nfte\n[numeric]\nMean (sd) : 0.8 (0.3)\nmin &lt; med &lt; max:\n0 &lt; 0.9 &lt; 1\nIQR (CV) : 0.1 (0.5)\n27 distinct values\n\n0\n(0.0%)\n\n\nflsa_ot_exempt\n[character]\n1. No\n2. Yes\n1471 (47.5%)\n1623 (52.5%)\n\n0\n(0.0%)\n\n\nflsa_status\n[character]\n1. Exempt\n2. Non Exempt\n1623 (52.5%)\n1471 (47.5%)\n\n0\n(0.0%)\n\n\nannual_salary\n[numeric]\nMean (sd) : 77478.7 (46626.9)\nmin &lt; med &lt; max:\n374.5 &lt; 87385 &lt; 252686.1\nIQR (CV) : 67643.6 (0.6)\n1324 distinct values\n\n0\n(0.0%)\n\n\nrace_ethnicity\n[character]\n1. Amer Ind/Alask Ntv not Hi\n2. Asian not Hispanic/Latino\n3. Black/African Amer not Hi\n4. Hispanic or Latino\n5. Ntv Hawaii/Pac Isl not Hi\n6. Two or More Races not His\n7. Undeclared\n8. White not Hispanic/Latino\n2 ( 0.2%)\n301 (31.9%)\n297 (31.4%)\n151 (16.0%)\n4 ( 0.4%)\n88 ( 9.3%)\n49 ( 5.2%)\n53 ( 5.6%)\n\n2149\n(69.5%)\n\n\ngender\n[character]\n1. F\n2. M\n3. O\n4. W\n2427 (78.4%)\n651 (21.0%)\n1 ( 0.0%)\n15 ( 0.5%)\n\n0\n(0.0%)\n\n\nveteran_status\n[character]\n1. I am not a protected vete\n2. I am not a veteran\n3. I identify as one or more\n4. I prefer not to answer\n5. Not A Protected Veteran\n1683 (83.4%)\n295 (14.6%)\n19 ( 0.9%)\n10 ( 0.5%)\n10 ( 0.5%)\n\n1077\n(34.8%)\n\n\nanniversary_date\n[POSIXct,\nPOSIXt]\nmin : 1976-04-05\nmed : 2021-05-03\nmax : 2026-01-05\nrange : 49y 9m 0d\n1019 distinct values\n\n0\n(0.0%)\n\n\nother_date5\n[POSIXct,\nPOSIXt]\nmin : 1976-04-05\nmed : 2022-02-07\nmax : 2026-01-20\nrange : 49y 9m 15d\n930 distinct values\n\n0\n(0.0%)\n\n\nadjusted_start_date\n[POSIXct,\nPOSIXt]\nmin : 1976-04-05\nmed : 2022-01-14\nmax : 2026-01-20\nrange : 49y 9m 15d\n939 distinct values\n\n0\n(0.0%)\n\n\nlength_of_service\n[numeric]\nMean (sd) : 7.2 (8)\nmin &lt; med &lt; max:\n-0.1 &lt; 3.9 &lt; 49.7\nIQR (CV) : 8.2 (1.1)\n917 distinct values\n\n0\n(0.0%)\n\n\nentity\n[character]\n1. PMC\n3094 (100.0%)\n\n0\n(0.0%)\n\n\ndept\n[character]\n1. P4003\n2. P5221\n3. P4152\n4. P4300\n5. P4303\n6. P5520\n7. P4153\n8. P4151\n9. P4301\n10. P4154\n[ 125 others ]\n183 ( 5.9%)\n183 ( 5.9%)\n100 ( 3.2%)\n97 ( 3.1%)\n88 ( 2.8%)\n87 ( 2.8%)\n85 ( 2.7%)\n77 ( 2.5%)\n77 ( 2.5%)\n76 ( 2.5%)\n2041 (66.0%)\n\n0\n(0.0%)\n\n\ndept_name\n[character]\n1. Emergency Room\n2. Nursing Administration\n3. CUPP Pavilion 3 South\n4. PAC3-HVICU\n5. PAC4-TSICU\n6. Pharmacy\n7. CUPP Pavilion 4 South\n8. CUPP Pavilion 3 East\n9. CUPP Pavilion 4 East\n10. CUPP Pavilion 5 South\n[ 125 others ]\n183 ( 5.9%)\n183 ( 5.9%)\n100 ( 3.2%)\n97 ( 3.1%)\n88 ( 2.8%)\n87 ( 2.8%)\n85 ( 2.7%)\n77 ( 2.5%)\n77 ( 2.5%)\n76 ( 2.5%)\n2041 (66.0%)\n\n0\n(0.0%)\n\n\nau\n[numeric]\nMean (sd) : 314384 (1397.6)\nmin &lt; med &lt; max:\n311004 &lt; 314303 &lt; 318280\nIQR (CV) : 1071 (0)\n133 distinct values\n\n0\n(0.0%)\n\n\njob_category\n[character]\n1. Nursing RN Direct Pt Care\n2. Nursing Support\n3. Technician\n4. Nursing Advanced Practice\n5. AH Pharmacist\n6. Access\n7. Clerical and Other\n8. Nursing RN Indirect Pt Ca\n9. AH Respiratory\n10. AH Cardiology\n[ 15 others ]\n1229 (39.7%)\n488 (15.8%)\n329 (10.6%)\n163 ( 5.3%)\n107 ( 3.5%)\n94 ( 3.0%)\n87 ( 2.8%)\n79 ( 2.6%)\n62 ( 2.0%)\n50 ( 1.6%)\n406 (13.1%)\n\n0\n(0.0%)\n\n\nsub_category\n[character]\n1. RN Direct Bedside\n2. Cert Nursing Assistant CN\n3. Pharmacist RP\n4. Nurse Practitioner\n5. RN Direct Grad Nurse Beds\n6. Nursing Aide\n7. Clerical Worker\n8. Physician Assistant PA\n9. Respiratory Therapist YM\n10. Other Health Sprt OTJ Req\n[ 82 others ]\n1128 (36.5%)\n235 ( 7.6%)\n107 ( 3.5%)\n87 ( 2.8%)\n87 ( 2.8%)\n85 ( 2.7%)\n74 ( 2.4%)\n71 ( 2.3%)\n58 ( 1.9%)\n57 ( 1.8%)\n1105 (35.7%)\n\n0\n(0.0%)\n\n\njob_code\n[character]\n1. J0111\n2. P54014\n3. P61000\n4. J01113\n5. P51074\n6. P64014\n7. J0110\n8. J2321\n9. J01114\n10. J0932\n[ 301 others ]\n665 (21.5%)\n158 ( 5.1%)\n112 ( 3.6%)\n80 ( 2.6%)\n78 ( 2.5%)\n77 ( 2.5%)\n67 ( 2.2%)\n61 ( 2.0%)\n54 ( 1.7%)\n54 ( 1.7%)\n1688 (54.6%)\n\n0\n(0.0%)\n\n\njob_title\n[character]\n1. Clinical Nurse 2- Inpatie\n2. Nursing Assistant - Certi\n3. PRN MOB Pool Nursing RN\n4. Clinical Nurse 2- OR\n5. Resource Nurse RN\n6. PRN Nursing Assistant CNA\n7. Patient Care Associate\n8. Clinical Nurse 1- Inpatie\n9. Clinical Nurse 2- Procedu\n10. Nurse Practitioner - APP\n[ 295 others ]\n665 (21.5%)\n158 ( 5.1%)\n112 ( 3.6%)\n80 ( 2.6%)\n78 ( 2.5%)\n77 ( 2.5%)\n70 ( 2.3%)\n67 ( 2.2%)\n54 ( 1.7%)\n54 ( 1.7%)\n1679 (54.3%)\n\n0\n(0.0%)\n\n\nwork_location\n[character]\n1. PMC\n2. 3737MARKET\n3. CHERRYHILL\n4. VOORHEES1\n5. FAMMEDCH\n6. PHLMAYFAI\n7. HURFVILLE\n8. BENSALEM\n9. MEDIA\n10. LIMERI\n[ 6 others ]\n2826 (91.3%)\n115 ( 3.7%)\n85 ( 2.7%)\n15 ( 0.5%)\n12 ( 0.4%)\n9 ( 0.3%)\n8 ( 0.3%)\n6 ( 0.2%)\n5 ( 0.2%)\n4 ( 0.1%)\n9 ( 0.3%)\n\n0\n(0.0%)\n\n\nwork_location_1\n[character]\n1. Penn Presbyterian Medical\n2. Penn Medicine University\n3. Penn Medicine Cherry Hill\n4. Penn Hematology/Oncology\n5. Penn Family Medicine Ches\n6. Penn Medicine Mayfair 713\n7. Virtua Health & Wellness\n8. Penn Cardiology Bensalem\n9. Penn Medicine Media Inter\n10. Penn Family Medicine Lime\n[ 6 others ]\n2826 (91.3%)\n115 ( 3.7%)\n85 ( 2.7%)\n15 ( 0.5%)\n12 ( 0.4%)\n9 ( 0.3%)\n8 ( 0.3%)\n6 ( 0.2%)\n5 ( 0.2%)\n4 ( 0.1%)\n9 ( 0.3%)\n\n0\n(0.0%)\n\n\nwork_address\n[character]\n1. 51 N 39th St\n2. 3737 Market St\n3. 1865 Rte 70 E\n4. 200 Bowman Dr\n5. 906 Bethlehem Pike\n6. 7133 Roosevelt Blvd\n7. 239 Hurfville-Crosskeys R\n8. 1338 Bristol Pike\n9. 605 W State St\n10. 420 W Linfield Trappe Rd\n[ 6 others ]\n2826 (91.3%)\n115 ( 3.7%)\n85 ( 2.7%)\n15 ( 0.5%)\n12 ( 0.4%)\n9 ( 0.3%)\n8 ( 0.3%)\n6 ( 0.2%)\n5 ( 0.2%)\n4 ( 0.1%)\n9 ( 0.3%)\n\n0\n(0.0%)\n\n\nwork_city\n[character]\n1. Bensalem\n2. Cherry Hill\n3. Erdenheim\n4. Limerick\n5. Media\n6. Philadelphia\n7. Sewell\n8. Voorhees\n6 ( 0.2%)\n86 ( 2.8%)\n12 ( 0.4%)\n5 ( 0.2%)\n5 ( 0.2%)\n2955 (95.5%)\n8 ( 0.3%)\n17 ( 0.5%)\n\n0\n(0.0%)\n\n\nwork_state\n[character]\n1. NJ\n2. PA\n111 ( 3.6%)\n2983 (96.4%)\n\n0\n(0.0%)\n\n\nwork_zip_code\n[numeric]\nMean (sd) : 18706.4 (2062.8)\nmin &lt; med &lt; max:\n8003 &lt; 19104 &lt; 19468\nIQR (CV) : 0 (0.1)\n8003 : 85 ( 2.7%)\n8034 : 1 ( 0.0%)\n8043 : 17 ( 0.5%)\n8080 : 8 ( 0.3%)\n19020 : 6 ( 0.2%)\n19038 : 12 ( 0.4%)\n19063 : 5 ( 0.2%)\n19104 : 2946 (95.2%)\n19149 : 9 ( 0.3%)\n19468 : 5 ( 0.2%)\n\n0\n(0.0%)\n\n\nrel_to_org\n[character]\n1. Employee\n3094 (100.0%)\n\n0\n(0.0%)\n\n\nrelationship_status_description\n[character]\n1. Active\n2. Leave\n3093 (100.0%)\n1 ( 0.0%)\n\n0\n(0.0%)\n\n\nwork_type_description\n[character]\n1. Full-time\n2. Full-time Temporary\n3. Part-time -19 hours\n4. Part-time 20+ hours\n5. Per Diem\n2343 (75.7%)\n4 ( 0.1%)\n37 ( 1.2%)\n240 ( 7.8%)\n470 (15.2%)\n\n0\n(0.0%)\n\n\njob_family\n[character]\n1. Nursing\n2. Clinical\n3. Pharmacy\n4. Providers\n5. Revenue Cycle\n6. Laboratory\n7. Imaging\n8. Quality and Safety\n9. Administrative and Operat\n10. Respiratory\n[ 8 others ]\n1763 (57.0%)\n231 ( 7.5%)\n194 ( 6.3%)\n168 ( 5.4%)\n143 ( 4.6%)\n114 ( 3.7%)\n93 ( 3.0%)\n80 ( 2.6%)\n77 ( 2.5%)\n64 ( 2.1%)\n167 ( 5.4%)\n\n0\n(0.0%)\n\n\njob_sub_family\n[character]\n1. Inpatient Nursing\n2. Nursing Services\n3. Patient Access\n4. Nurse Practitioners\n5. Surgical Services\n6. Pharmacy Services\n7. Physician Assistants\n8. Outpatient Nursing\n9. Inpatient\n10. General Administrative\n[ 52 others ]\n1238 (40.1%)\n403 (13.0%)\n97 ( 3.1%)\n95 ( 3.1%)\n86 ( 2.8%)\n79 ( 2.6%)\n73 ( 2.4%)\n69 ( 2.2%)\n68 ( 2.2%)\n66 ( 2.1%)\n817 (26.4%)\n\n3\n(0.1%)\n\n\njob_level\n[character]\n1. CP2\n2. CS2\n3. CP3\n4. CS3\n5. BS2\n6. CS1\n7. BS1\n8. M20\n9. M30\n10. CP4\n[ 6 others ]\n1235 (40.0%)\n673 (21.8%)\n434 (14.0%)\n223 ( 7.2%)\n199 ( 6.4%)\n112 ( 3.6%)\n47 ( 1.5%)\n42 ( 1.4%)\n40 ( 1.3%)\n27 ( 0.9%)\n59 ( 1.9%)\n\n3\n(0.1%)\n\n\nstate\n[character]\n1. PA\n2. NJ\n3. DE\n4. NY\n5. MD\n6. CA\n7. WA\n8. CO\n9. CT\n10. KY\n[ 3 others ]\n2407 (77.8%)\n601 (19.4%)\n67 ( 2.2%)\n5 ( 0.2%)\n4 ( 0.1%)\n2 ( 0.1%)\n2 ( 0.1%)\n1 ( 0.0%)\n1 ( 0.0%)\n1 ( 0.0%)\n3 ( 0.1%)\n\n0\n(0.0%)\n\n\nzip_code\n[character]\n1. 19104\n2. 19143\n3. 19146\n4. 19131\n5. 19151\n6. 19139\n7. 19128\n8. 19120\n9. 19148\n10. 19145\n[ 506 others ]\n91 ( 2.9%)\n84 ( 2.7%)\n70 ( 2.3%)\n65 ( 2.1%)\n60 ( 1.9%)\n57 ( 1.8%)\n52 ( 1.7%)\n46 ( 1.5%)\n46 ( 1.5%)\n45 ( 1.5%)\n2478 (80.1%)\n\n0\n(0.0%)\n\n\nadministrator\n[character]\n1. Anderson, Meredith\n2. Atweh, Mahmoud\n3. Challender, Robert\n4. Gilbode, Greta\n5. Hoke, Nicole\n6. Kasbekar, Nishaminy\n7. O’Donnell, Judith\n8. Pizzini, Mark-alan\n9. Posencheg, Michael\n10. Russell, Robert J.\n11. Volpe, Michele M.\n18 ( 0.6%)\n177 ( 5.7%)\n8 ( 0.3%)\n18 ( 0.6%)\n1859 (60.1%)\n9 ( 0.3%)\n65 ( 2.1%)\n91 ( 2.9%)\n12 ( 0.4%)\n203 ( 6.6%)\n634 (20.5%)\n\n0\n(0.0%)\n\n\nprocess_level\n[character]\n1. CPUP\n20 (100.0%)\n\n3074\n(99.4%)\n\n\nhr_contact\n[character]\n1. Daniel Brunetti\n2. Kimberley Elam\n3. Zenas Colt\n441 (14.3%)\n1317 (42.6%)\n1336 (43.2%)\n\n0\n(0.0%)\n\n\nchro\n[character]\n1. Kenya Pitt\n2. Sade Matin\n3084 (99.7%)\n10 ( 0.3%)\n\n0\n(0.0%)\n\n\n\nCodeprint(\n  summarytools::dfSummary(data_all_ee,\n                          varnumbers   = FALSE, \n                          valid.col    = FALSE, \n                          graph.magnif = 0.82,\n                          # col.widths = c(100, 200, 100, 100, 100)),\n  method = 'render',\n  max.tbl.height = 800))\nData Frame Summary\ndata_all_ee\nDimensions: 3094 x 40\nDuplicates: 0\n\n\n\n\n\n\n\n\n\nVariable\nStats / Values\nFreqs (% of Valid)\nGraph\nMissing\n\n\n\nee_id [numeric]\nMean (sd) : 6913594 (39458362) min &lt; med &lt; max: 17747 &lt; 979922.5 &lt; 548417567 IQR (CV) : 422778.5 (5.7)\n3094 distinct values\n: : : : :\n0 (0.0%)\n\n\npenn_id [numeric]\nMean (sd) : 45924007 (24616205) min &lt; med &lt; max: 10001319 &lt; 45449180 &lt; 89998369 IQR (CV) : 43863556 (0.5)\n3094 distinct values\n: : : . : . : . . . . : : : : : : : : : : : : : : : : : : : :\n0 (0.0%)\n\n\nuphs_derived_resource_relationship_type [character]\n1. Payroll Resource\n3094 (100.0%)\nIIIIIIIIIIIIIIIIIIII\n0 (0.0%)\n\n\nfte [numeric]\nMean (sd) : 0.8 (0.3) min &lt; med &lt; max: 0 &lt; 0.9 &lt; 1 IQR (CV) : 0.1 (0.5)\n27 distinct values\n: : : : : : : : : : . . : :\n0 (0.0%)\n\n\nflsa_ot_exempt [character]\n1. No 2. Yes\n1471 (47.5%) 1623 (52.5%)\nIIIIIIIII IIIIIIIIII\n0 (0.0%)\n\n\nflsa_status [character]\n1. Exempt 2. Non Exempt\n1623 (52.5%) 1471 (47.5%)\nIIIIIIIIII IIIIIIIII\n0 (0.0%)\n\n\nannual_salary [numeric]\nMean (sd) : 77478.7 (46626.9) min &lt; med &lt; max: 374.5 &lt; 87385 &lt; 252686.1 IQR (CV) : 67643.6 (0.6)\n1324 distinct values\n: : . . : : : : : . : : : : : : .\n0 (0.0%)\n\n\nrace_ethnicity [character]\n1. Amer Ind/Alask Ntv not Hi 2. Asian not Hispanic/Latino 3. Black/African Amer not Hi 4. Hispanic or Latino 5. Ntv Hawaii/Pac Isl not Hi 6. Two or More Races not His 7. Undeclared 8. White not Hispanic/Latino\n2 ( 0.2%) 301 (31.9%) 297 (31.4%) 151 (16.0%) 4 ( 0.4%) 88 ( 9.3%) 49 ( 5.2%) 53 ( 5.6%)\nIIIIII IIIIII III\n2149 (69.5%)\n\n\ngender [character]\n1. F 2. M 3. O 4. W\n2427 (78.4%) 651 (21.0%) 1 ( 0.0%) 15 ( 0.5%)\nIIIIIIIIIIIIIII IIII\n0 (0.0%)\n\n\nveteran_status [character]\n1. I am not a protected vete 2. I am not a veteran 3. I identify as one or more 4. I prefer not to answer 5. Not A Protected Veteran\n1683 (83.4%) 295 (14.6%) 19 ( 0.9%) 10 ( 0.5%) 10 ( 0.5%)\nIIIIIIIIIIIIIIII II\n1077 (34.8%)\n\n\nanniversary_date [POSIXct, POSIXt]\nmin : 1976-04-05 med : 2021-05-03 max : 2026-01-05 range : 49y 9m 0d\n1019 distinct values\n: : : : : . . . : : :\n0 (0.0%)\n\n\nother_date5 [POSIXct, POSIXt]\nmin : 1976-04-05 med : 2022-02-07 max : 2026-01-20 range : 49y 9m 15d\n930 distinct values\n: : : . : . . : : :\n0 (0.0%)\n\n\nadjusted_start_date [POSIXct, POSIXt]\nmin : 1976-04-05 med : 2022-01-14 max : 2026-01-20 range : 49y 9m 15d\n939 distinct values\n: : : . : . . : : :\n0 (0.0%)\n\n\nlength_of_service [numeric]\nMean (sd) : 7.2 (8) min &lt; med &lt; max: -0.1 &lt; 3.9 &lt; 49.7 IQR (CV) : 8.2 (1.1)\n917 distinct values\n: : : : . : : : . .\n0 (0.0%)\n\n\nentity [character]\n1. PMC\n3094 (100.0%)\nIIIIIIIIIIIIIIIIIIII\n0 (0.0%)\n\n\ndept [character]\n1. P4003 2. P5221 3. P4152 4. P4300 5. P4303 6. P5520 7. P4153 8. P4151 9. P4301 10. P4154 [ 125 others ]\n183 ( 5.9%) 183 ( 5.9%) 100 ( 3.2%) 97 ( 3.1%) 88 ( 2.8%) 87 ( 2.8%) 85 ( 2.7%) 77 ( 2.5%) 77 ( 2.5%) 76 ( 2.5%) 2041 (66.0%)\nI I\n0 (0.0%)\n\n\ndept_name [character]\n1. Emergency Room 2. Nursing Administration 3. CUPP Pavilion 3 South 4. PAC3-HVICU 5. PAC4-TSICU 6. Pharmacy 7. CUPP Pavilion 4 South 8. CUPP Pavilion 3 East 9. CUPP Pavilion 4 East 10. CUPP Pavilion 5 South [ 125 others ]\n183 ( 5.9%) 183 ( 5.9%) 100 ( 3.2%) 97 ( 3.1%) 88 ( 2.8%) 87 ( 2.8%) 85 ( 2.7%) 77 ( 2.5%) 77 ( 2.5%) 76 ( 2.5%) 2041 (66.0%)\nI I\n0 (0.0%)\n\n\nau [numeric]\nMean (sd) : 314384 (1397.6) min &lt; med &lt; max: 311004 &lt; 314303 &lt; 318280 IQR (CV) : 1071 (0)\n133 distinct values\n: : : : : . : . : : : .\n0 (0.0%)\n\n\njob_category [character]\n1. Nursing RN Direct Pt Care 2. Nursing Support 3. Technician 4. Nursing Advanced Practice 5. AH Pharmacist 6. Access 7. Clerical and Other 8. Nursing RN Indirect Pt Ca 9. AH Respiratory 10. AH Cardiology [ 15 others ]\n1229 (39.7%) 488 (15.8%) 329 (10.6%) 163 ( 5.3%) 107 ( 3.5%) 94 ( 3.0%) 87 ( 2.8%) 79 ( 2.6%) 62 ( 2.0%) 50 ( 1.6%) 406 (13.1%)\nIIIIIII III II I\n0 (0.0%)\n\n\nsub_category [character]\n1. RN Direct Bedside 2. Cert Nursing Assistant CN 3. Pharmacist RP 4. Nurse Practitioner 5. RN Direct Grad Nurse Beds 6. Nursing Aide 7. Clerical Worker 8. Physician Assistant PA 9. Respiratory Therapist YM 10. Other Health Sprt OTJ Req [ 82 others ]\n1128 (36.5%) 235 ( 7.6%) 107 ( 3.5%) 87 ( 2.8%) 87 ( 2.8%) 85 ( 2.7%) 74 ( 2.4%) 71 ( 2.3%) 58 ( 1.9%) 57 ( 1.8%) 1105 (35.7%)\nIIIIIII I\n0 (0.0%)\n\n\njob_code [character]\n1. J0111 2. P54014 3. P61000 4. J01113 5. P51074 6. P64014 7. J0110 8. J2321 9. J01114 10. J0932 [ 301 others ]\n665 (21.5%) 158 ( 5.1%) 112 ( 3.6%) 80 ( 2.6%) 78 ( 2.5%) 77 ( 2.5%) 67 ( 2.2%) 61 ( 2.0%) 54 ( 1.7%) 54 ( 1.7%) 1688 (54.6%)\nIIII I\n0 (0.0%)\n\n\njob_title [character]\n1. Clinical Nurse 2- Inpatie 2. Nursing Assistant - Certi 3. PRN MOB Pool Nursing RN 4. Clinical Nurse 2- OR 5. Resource Nurse RN 6. PRN Nursing Assistant CNA 7. Patient Care Associate 8. Clinical Nurse 1- Inpatie 9. Clinical Nurse 2- Procedu 10. Nurse Practitioner - APP [ 295 others ]\n665 (21.5%) 158 ( 5.1%) 112 ( 3.6%) 80 ( 2.6%) 78 ( 2.5%) 77 ( 2.5%) 70 ( 2.3%) 67 ( 2.2%) 54 ( 1.7%) 54 ( 1.7%) 1679 (54.3%)\nIIII I\n0 (0.0%)\n\n\nwork_location [character]\n1. PMC 2. 3737MARKET 3. CHERRYHILL 4. VOORHEES1 5. FAMMEDCH 6. PHLMAYFAI 7. HURFVILLE 8. BENSALEM 9. MEDIA 10. LIMERI [ 6 others ]\n2826 (91.3%) 115 ( 3.7%) 85 ( 2.7%) 15 ( 0.5%) 12 ( 0.4%) 9 ( 0.3%) 8 ( 0.3%) 6 ( 0.2%) 5 ( 0.2%) 4 ( 0.1%) 9 ( 0.3%)\nIIIIIIIIIIIIIIIIII\n0 (0.0%)\n\n\nwork_location_1 [character]\n1. Penn Presbyterian Medical 2. Penn Medicine University 3. Penn Medicine Cherry Hill 4. Penn Hematology/Oncology 5. Penn Family Medicine Ches 6. Penn Medicine Mayfair 713 7. Virtua Health & Wellness 8. Penn Cardiology Bensalem 9. Penn Medicine Media Inter 10. Penn Family Medicine Lime [ 6 others ]\n2826 (91.3%) 115 ( 3.7%) 85 ( 2.7%) 15 ( 0.5%) 12 ( 0.4%) 9 ( 0.3%) 8 ( 0.3%) 6 ( 0.2%) 5 ( 0.2%) 4 ( 0.1%) 9 ( 0.3%)\nIIIIIIIIIIIIIIIIII\n0 (0.0%)\n\n\nwork_address [character]\n1. 51 N 39th St 2. 3737 Market St 3. 1865 Rte 70 E 4. 200 Bowman Dr 5. 906 Bethlehem Pike 6. 7133 Roosevelt Blvd 7. 239 Hurfville-Crosskeys R 8. 1338 Bristol Pike 9. 605 W State St 10. 420 W Linfield Trappe Rd [ 6 others ]\n2826 (91.3%) 115 ( 3.7%) 85 ( 2.7%) 15 ( 0.5%) 12 ( 0.4%) 9 ( 0.3%) 8 ( 0.3%) 6 ( 0.2%) 5 ( 0.2%) 4 ( 0.1%) 9 ( 0.3%)\nIIIIIIIIIIIIIIIIII\n0 (0.0%)\n\n\nwork_city [character]\n1. Bensalem 2. Cherry Hill 3. Erdenheim 4. Limerick 5. Media 6. Philadelphia 7. Sewell 8. Voorhees\n6 ( 0.2%) 86 ( 2.8%) 12 ( 0.4%) 5 ( 0.2%) 5 ( 0.2%) 2955 (95.5%) 8 ( 0.3%) 17 ( 0.5%)\n\n0 (0.0%)\n\n\nwork_state [character]\n1. NJ 2. PA\n111 ( 3.6%) 2983 (96.4%)\nIIIIIIIIIIIIIIIIIII\n0 (0.0%)\n\n\nwork_zip_code [numeric]\nMean (sd) : 18706.4 (2062.8) min &lt; med &lt; max: 8003 &lt; 19104 &lt; 19468 IQR (CV) : 0 (0.1)\n8003 : 85 ( 2.7%) 8034 : 1 ( 0.0%) 8043 : 17 ( 0.5%) 8080 : 8 ( 0.3%) 19020 : 6 ( 0.2%) 19038 : 12 ( 0.4%) 19063 : 5 ( 0.2%) 19104 : 2946 (95.2%) 19149 : 9 ( 0.3%) 19468 : 5 ( 0.2%)\n\n0 (0.0%)\n\n\nrel_to_org [character]\n1. Employee\n3094 (100.0%)\nIIIIIIIIIIIIIIIIIIII\n0 (0.0%)\n\n\nrelationship_status_description [character]\n1. Active 2. Leave\n3093 (100.0%) 1 ( 0.0%)\nIIIIIIIIIIIIIIIIIII\n0 (0.0%)\n\n\nwork_type_description [character]\n1. Full-time 2. Full-time Temporary 3. Part-time -19 hours 4. Part-time 20+ hours 5. Per Diem\n2343 (75.7%) 4 ( 0.1%) 37 ( 1.2%) 240 ( 7.8%) 470 (15.2%)\nIIIIIIIIIIIIIII\n0 (0.0%)\n\n\njob_family [character]\n1. Nursing 2. Clinical 3. Pharmacy 4. Providers 5. Revenue Cycle 6. Laboratory 7. Imaging 8. Quality and Safety 9. Administrative and Operat 10. Respiratory [ 8 others ]\n1763 (57.0%) 231 ( 7.5%) 194 ( 6.3%) 168 ( 5.4%) 143 ( 4.6%) 114 ( 3.7%) 93 ( 3.0%) 80 ( 2.6%) 77 ( 2.5%) 64 ( 2.1%) 167 ( 5.4%)\nIIIIIIIIIII I I I\n0 (0.0%)\n\n\njob_sub_family [character]\n1. Inpatient Nursing 2. Nursing Services 3. Patient Access 4. Nurse Practitioners 5. Surgical Services 6. Pharmacy Services 7. Physician Assistants 8. Outpatient Nursing 9. Inpatient 10. General Administrative [ 52 others ]\n1238 (40.1%) 403 (13.0%) 97 ( 3.1%) 95 ( 3.1%) 86 ( 2.8%) 79 ( 2.6%) 73 ( 2.4%) 69 ( 2.2%) 68 ( 2.2%) 66 ( 2.1%) 817 (26.4%)\nIIIIIIII II\n3 (0.1%)\n\n\njob_level [character]\n1. CP2 2. CS2 3. CP3 4. CS3 5. BS2 6. CS1 7. BS1 8. M20 9. M30 10. CP4 [ 6 others ]\n1235 (40.0%) 673 (21.8%) 434 (14.0%) 223 ( 7.2%) 199 ( 6.4%) 112 ( 3.6%) 47 ( 1.5%) 42 ( 1.4%) 40 ( 1.3%) 27 ( 0.9%) 59 ( 1.9%)\nIIIIIII IIII II I I\n3 (0.1%)\n\n\nstate [character]\n1. PA 2. NJ 3. DE 4. NY 5. MD 6. CA 7. WA 8. CO 9. CT 10. KY [ 3 others ]\n2407 (77.8%) 601 (19.4%) 67 ( 2.2%) 5 ( 0.2%) 4 ( 0.1%) 2 ( 0.1%) 2 ( 0.1%) 1 ( 0.0%) 1 ( 0.0%) 1 ( 0.0%) 3 ( 0.1%)\nIIIIIIIIIIIIIII III\n0 (0.0%)\n\n\nzip_code [character]\n1. 19104 2. 19143 3. 19146 4. 19131 5. 19151 6. 19139 7. 19128 8. 19120 9. 19148 10. 19145 [ 506 others ]\n91 ( 2.9%) 84 ( 2.7%) 70 ( 2.3%) 65 ( 2.1%) 60 ( 1.9%) 57 ( 1.8%) 52 ( 1.7%) 46 ( 1.5%) 46 ( 1.5%) 45 ( 1.5%) 2478 (80.1%)\n\n0 (0.0%)\n\n\nadministrator [character]\n1. Anderson, Meredith 2. Atweh, Mahmoud 3. Challender, Robert 4. Gilbode, Greta 5. Hoke, Nicole 6. Kasbekar, Nishaminy 7. O’Donnell, Judith 8. Pizzini, Mark-alan 9. Posencheg, Michael 10. Russell, Robert J. 11. Volpe, Michele M.\n18 ( 0.6%) 177 ( 5.7%) 8 ( 0.3%) 18 ( 0.6%) 1859 (60.1%) 9 ( 0.3%) 65 ( 2.1%) 91 ( 2.9%) 12 ( 0.4%) 203 ( 6.6%) 634 (20.5%)\nI\n0 (0.0%)\n\n\nprocess_level [character]\n1. CPUP\n20 (100.0%)\nIIIIIIIIIIIIIIIIIIII\n3074 (99.4%)\n\n\nhr_contact [character]\n1. Daniel Brunetti 2. Kimberley Elam 3. Zenas Colt\n441 (14.3%) 1317 (42.6%) 1336 (43.2%)\nII IIIIIIII IIIIIIII\n0 (0.0%)\n\n\nchro [character]\n1. Kenya Pitt 2. Sade Matin\n3084 (99.7%) 10 ( 0.3%)\nIIIIIIIIIIIIIIIIIII\n0 (0.0%)",
    "crumbs": [
      "Project",
      "Data cleaning"
    ]
  },
  {
    "objectID": "01_data_cleaning.html#salary-category",
    "href": "01_data_cleaning.html#salary-category",
    "title": "Data cleaning",
    "section": "Salary category",
    "text": "Salary category\n\nCodedata_all_ee &lt;-\n  data_all_ee |&gt; \n  set_variable_labels(\n    fte = \"FTE\",\n    annual_salary = \"Annual salary\",\n    race_ethnicity = \"Race/ethnicity\",\n    gender = \"Gender\",\n    job_category = \"Job category\",\n    sub_category = \"Job sub category\",\n    work_location = \"Work location\",\n    work_zip_code = \"Work zip code\",\n    state = \"State\",\n    zip_code = \"Employee zip code\"\n  )\n\n\n\nCodedata_all_ee &lt;-\n  data_all_ee |&gt;\n  mutate(annual_salary_category = case_when(\n    annual_salary &lt; 62000 ~ \"Less than 62k\",\n    annual_salary &gt;= 62000 & annual_salary &lt; 100000 ~ \"62k-100k\",\n    annual_salary &gt;= 100000 & annual_salary &lt; 150000 ~ \"100k-150k\",\n    annual_salary &gt;= 150000 & annual_salary &lt; 200000 ~ \"150k-200k\",\n    annual_salary &gt;= 200000 ~ \"More than 200k\"\n  )) |&gt; \n  mutate(annual_salary_category = factor(annual_salary_category,\n                                         levels = c(\"Less than 62k\",\n                                                    \"62k-100k\",\n                                                    \"100k-150k\",\n                                                    \"150k-200k\",\n                                                    \"More than 200k\"))) |&gt; \n  set_variable_labels(annual_salary_category = \"Annual salary category\")\n\n\n\nCodetbl_summary(data_all_ee,\n            include = c(race_ethnicity,\n                        job_category,\n                        fte,\n                        gender,\n                        annual_salary_category),\n            by = annual_salary_category,\n            type = all_continuous() ~ \"continuous2\",\n            statistic = all_continuous() ~ c(\n              \"{mean} ({sd})\",\n              \"{median}\",\n              \"{min}-{max}\"\n            ),\n            sort = list(c(job_category, gender) ~ \"frequency\")) |&gt; \n  add_overall() |&gt; \n  bold_labels() |&gt; \n  modify_caption(\"Employee Salary\")\n\n\n\n\nEmployee Salary\n\n\n\n\n\n\n\n\n\n\nCharacteristic\n\nOverall\nN = 3,0941\n\n\nLess than 62k\nN = 1,2691\n\n\n62k-100k\nN = 4021\n\n\n100k-150k\nN = 1,3051\n\n\n150k-200k\nN = 1111\n\n\nMore than 200k\nN = 71\n\n\n\n\nRace/ethnicity\n\n\n\n\n\n\n\n\n    Amer Ind/Alask Ntv not His/Lat\n2 (0.2%)\n1 (0.2%)\n0 (0%)\n1 (0.3%)\n0 (0%)\n0 (0%)\n\n\n    Asian not Hispanic/Latino\n301 (32%)\n93 (20%)\n37 (33%)\n154 (45%)\n14 (67%)\n3 (75%)\n\n\n    Black/African Amer not His/Lat\n297 (31%)\n206 (44%)\n38 (34%)\n49 (14%)\n3 (14%)\n1 (25%)\n\n\n    Hispanic or Latino\n151 (16%)\n75 (16%)\n19 (17%)\n56 (16%)\n1 (4.8%)\n0 (0%)\n\n\n    Ntv Hawaii/Pac Isl not His/Lat\n4 (0.4%)\n2 (0.4%)\n1 (0.9%)\n1 (0.3%)\n0 (0%)\n0 (0%)\n\n\n    Two or More Races not Hisp/Lat\n88 (9.3%)\n44 (9.5%)\n8 (7.2%)\n36 (10%)\n0 (0%)\n0 (0%)\n\n\n    Undeclared\n49 (5.2%)\n28 (6.0%)\n1 (0.9%)\n18 (5.2%)\n2 (9.5%)\n0 (0%)\n\n\n    White not Hispanic/Latino\n53 (5.6%)\n15 (3.2%)\n7 (6.3%)\n30 (8.7%)\n1 (4.8%)\n0 (0%)\n\n\n    Unknown\n2,149\n805\n291\n960\n90\n3\n\n\nJob category\n\n\n\n\n\n\n\n\n    Nursing RN Direct Pt Care\n1,229 (40%)\n130 (10%)\n199 (50%)\n900 (69%)\n0 (0%)\n0 (0%)\n\n\n    Nursing Support\n488 (16%)\n485 (38%)\n3 (0.7%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Technician\n329 (11%)\n291 (23%)\n37 (9.2%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n\n\n    Nursing Advanced Practice\n163 (5.3%)\n12 (0.9%)\n10 (2.5%)\n93 (7.1%)\n45 (41%)\n3 (43%)\n\n\n    AH Pharmacist\n107 (3.5%)\n20 (1.6%)\n3 (0.7%)\n70 (5.4%)\n14 (13%)\n0 (0%)\n\n\n    Access\n94 (3.0%)\n92 (7.2%)\n2 (0.5%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Clerical and Other\n87 (2.8%)\n77 (6.1%)\n10 (2.5%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Nursing RN Indirect Pt Care\n79 (2.6%)\n8 (0.6%)\n3 (0.7%)\n67 (5.1%)\n1 (0.9%)\n0 (0%)\n\n\n    AH Respiratory\n62 (2.0%)\n15 (1.2%)\n13 (3.2%)\n34 (2.6%)\n0 (0%)\n0 (0%)\n\n\n    AH Cardiology\n50 (1.6%)\n16 (1.3%)\n13 (3.2%)\n8 (0.6%)\n9 (8.1%)\n4 (57%)\n\n\n    AH Radiology Technologist-Spec\n49 (1.6%)\n13 (1.0%)\n0 (0%)\n35 (2.7%)\n1 (0.9%)\n0 (0%)\n\n\n    AH Radiology Technologist-Diag\n45 (1.5%)\n22 (1.7%)\n6 (1.5%)\n17 (1.3%)\n0 (0%)\n0 (0%)\n\n\n    Professional Clinical\n44 (1.4%)\n16 (1.3%)\n26 (6.5%)\n2 (0.2%)\n0 (0%)\n0 (0%)\n\n\n    AH Lab-Path Technologist\n43 (1.4%)\n15 (1.2%)\n25 (6.2%)\n3 (0.2%)\n0 (0%)\n0 (0%)\n\n\n    Nursing RN MD Office\n43 (1.4%)\n12 (0.9%)\n3 (0.7%)\n28 (2.1%)\n0 (0%)\n0 (0%)\n\n\n    Management Supervisor\n41 (1.3%)\n1 (&lt;0.1%)\n18 (4.5%)\n15 (1.1%)\n7 (6.3%)\n0 (0%)\n\n\n    Service\n37 (1.2%)\n37 (2.9%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Management Middle and Upper\n27 (0.9%)\n0 (0%)\n13 (3.2%)\n10 (0.8%)\n4 (3.6%)\n0 (0%)\n\n\n    Professional Other\n24 (0.8%)\n7 (0.6%)\n12 (3.0%)\n5 (0.4%)\n0 (0%)\n0 (0%)\n\n\n    Management Nurse Manager\n23 (0.7%)\n0 (0%)\n0 (0%)\n3 (0.2%)\n20 (18%)\n0 (0%)\n\n\n    Management Nursing\n22 (0.7%)\n0 (0%)\n0 (0%)\n14 (1.1%)\n8 (7.2%)\n0 (0%)\n\n\n    Professional Finance\n4 (0.1%)\n0 (0%)\n4 (1.0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    AH Rad-Onc Cancer Professional\n2 (&lt;0.1%)\n0 (0%)\n0 (0%)\n0 (0%)\n2 (1.8%)\n0 (0%)\n\n\n    AH PT OT SP Therapist\n1 (&lt;0.1%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Professional Info Tech\n1 (&lt;0.1%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\nFTE\n\n\n\n\n\n\n\n\n    Mean (SD)\n0.77 (0.35)\n0.56 (0.45)\n0.85 (0.19)\n0.94 (0.06)\n1.00 (0.01)\n1.00 (0.00)\n\n\n    Median\n0.90\n0.89\n0.90\n0.90\n1.00\n1.00\n\n\n    Min-Max\n0.01-1.01\n0.01-1.00\n0.50-1.01\n0.01-1.00\n0.90-1.01\n1.00-1.00\n\n\nGender\n\n\n\n\n\n\n\n\n    F\n2,427 (78%)\n979 (77%)\n332 (83%)\n1,021 (78%)\n91 (82%)\n4 (57%)\n\n\n    M\n651 (21%)\n282 (22%)\n69 (17%)\n277 (21%)\n20 (18%)\n3 (43%)\n\n\n    W\n15 (0.5%)\n7 (0.6%)\n1 (0.2%)\n7 (0.5%)\n0 (0%)\n0 (0%)\n\n\n    O\n1 (&lt;0.1%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n\n\n1 n (%)",
    "crumbs": [
      "Project",
      "Data cleaning"
    ]
  },
  {
    "objectID": "01_data_cleaning.html#job-category-and-subcategory",
    "href": "01_data_cleaning.html#job-category-and-subcategory",
    "title": "Data cleaning",
    "section": "Job category and subcategory",
    "text": "Job category and subcategory\n\nCodetbl_summary(data_all_ee,\n            include = c(job_category,\n                        sub_category,\n                        annual_salary_category),\n            by = annual_salary_category,\n            percent = \"column\") |&gt; \n  add_overall() |&gt; \n  bold_labels() |&gt; \n  modify_caption(\"Job category by salary\")\n\n\n\n\nJob category by salary\n\n\n\n\n\n\n\n\n\n\nCharacteristic\n\nOverall\nN = 3,0941\n\n\nLess than 62k\nN = 1,2691\n\n\n62k-100k\nN = 4021\n\n\n100k-150k\nN = 1,3051\n\n\n150k-200k\nN = 1111\n\n\nMore than 200k\nN = 71\n\n\n\n\nJob category\n\n\n\n\n\n\n\n\n    Access\n94 (3.0%)\n92 (7.2%)\n2 (0.5%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    AH Cardiology\n50 (1.6%)\n16 (1.3%)\n13 (3.2%)\n8 (0.6%)\n9 (8.1%)\n4 (57%)\n\n\n    AH Lab-Path Technologist\n43 (1.4%)\n15 (1.2%)\n25 (6.2%)\n3 (0.2%)\n0 (0%)\n0 (0%)\n\n\n    AH Pharmacist\n107 (3.5%)\n20 (1.6%)\n3 (0.7%)\n70 (5.4%)\n14 (13%)\n0 (0%)\n\n\n    AH PT OT SP Therapist\n1 (&lt;0.1%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    AH Rad-Onc Cancer Professional\n2 (&lt;0.1%)\n0 (0%)\n0 (0%)\n0 (0%)\n2 (1.8%)\n0 (0%)\n\n\n    AH Radiology Technologist-Diag\n45 (1.5%)\n22 (1.7%)\n6 (1.5%)\n17 (1.3%)\n0 (0%)\n0 (0%)\n\n\n    AH Radiology Technologist-Spec\n49 (1.6%)\n13 (1.0%)\n0 (0%)\n35 (2.7%)\n1 (0.9%)\n0 (0%)\n\n\n    AH Respiratory\n62 (2.0%)\n15 (1.2%)\n13 (3.2%)\n34 (2.6%)\n0 (0%)\n0 (0%)\n\n\n    Clerical and Other\n87 (2.8%)\n77 (6.1%)\n10 (2.5%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Management Middle and Upper\n27 (0.9%)\n0 (0%)\n13 (3.2%)\n10 (0.8%)\n4 (3.6%)\n0 (0%)\n\n\n    Management Nurse Manager\n23 (0.7%)\n0 (0%)\n0 (0%)\n3 (0.2%)\n20 (18%)\n0 (0%)\n\n\n    Management Nursing\n22 (0.7%)\n0 (0%)\n0 (0%)\n14 (1.1%)\n8 (7.2%)\n0 (0%)\n\n\n    Management Supervisor\n41 (1.3%)\n1 (&lt;0.1%)\n18 (4.5%)\n15 (1.1%)\n7 (6.3%)\n0 (0%)\n\n\n    Nursing Advanced Practice\n163 (5.3%)\n12 (0.9%)\n10 (2.5%)\n93 (7.1%)\n45 (41%)\n3 (43%)\n\n\n    Nursing RN Direct Pt Care\n1,229 (40%)\n130 (10%)\n199 (50%)\n900 (69%)\n0 (0%)\n0 (0%)\n\n\n    Nursing RN Indirect Pt Care\n79 (2.6%)\n8 (0.6%)\n3 (0.7%)\n67 (5.1%)\n1 (0.9%)\n0 (0%)\n\n\n    Nursing RN MD Office\n43 (1.4%)\n12 (0.9%)\n3 (0.7%)\n28 (2.1%)\n0 (0%)\n0 (0%)\n\n\n    Nursing Support\n488 (16%)\n485 (38%)\n3 (0.7%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Professional Clinical\n44 (1.4%)\n16 (1.3%)\n26 (6.5%)\n2 (0.2%)\n0 (0%)\n0 (0%)\n\n\n    Professional Finance\n4 (0.1%)\n0 (0%)\n4 (1.0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Professional Info Tech\n1 (&lt;0.1%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Professional Other\n24 (0.8%)\n7 (0.6%)\n12 (3.0%)\n5 (0.4%)\n0 (0%)\n0 (0%)\n\n\n    Service\n37 (1.2%)\n37 (2.9%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Technician\n329 (11%)\n291 (23%)\n37 (9.2%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n\n\nJob sub category\n\n\n\n\n\n\n\n\n    Administrative Prof NoHVB\n2 (&lt;0.1%)\n0 (0%)\n2 (0.5%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Administrative Professional\n9 (0.3%)\n2 (0.2%)\n2 (0.5%)\n5 (0.4%)\n0 (0%)\n0 (0%)\n\n\n    Administrative Support ProfNPC\n3 (&lt;0.1%)\n0 (0%)\n3 (0.7%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Cath Lab Cardiac\n19 (0.6%)\n9 (0.7%)\n9 (2.2%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n\n\n    Cert Nursing Assistant CNA\n235 (7.6%)\n235 (19%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Clerical Coord or Supr\n1 (&lt;0.1%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Clerical Coord or Supr HVB\n1 (&lt;0.1%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Clerical Worker\n74 (2.4%)\n66 (5.2%)\n8 (2.0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Clerical Worker NPC\n5 (0.2%)\n5 (0.4%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Crdc Nclr Medicine Tchnlst NMT\n2 (&lt;0.1%)\n1 (&lt;0.1%)\n0 (0%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n\n\n    Credit Billing Professionals\n3 (&lt;0.1%)\n0 (0%)\n3 (0.7%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Crtfd Ortho Prosthetics Tchn\n1 (&lt;0.1%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Crtfd Respiratory Thrpy Tchn\n1 (&lt;0.1%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    CT Technologist\n13 (0.4%)\n5 (0.4%)\n0 (0%)\n8 (0.6%)\n0 (0%)\n0 (0%)\n\n\n    Dosimetrist\n2 (&lt;0.1%)\n0 (0%)\n0 (0%)\n0 (0%)\n2 (1.8%)\n0 (0%)\n\n\n    Echocardiogram Technician\n13 (0.4%)\n4 (0.3%)\n3 (0.7%)\n6 (0.5%)\n0 (0%)\n0 (0%)\n\n\n    EEG EMG Technician\n3 (&lt;0.1%)\n0 (0%)\n3 (0.7%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Emergency Medical Tchn EMT\n54 (1.7%)\n52 (4.1%)\n2 (0.5%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Finance Mgmt Supr\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n\n\n    Finance Professional\n1 (&lt;0.1%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    GI Technician\n8 (0.3%)\n6 (0.5%)\n2 (0.5%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Intrvnl Rdlgy Tchnlst\n7 (0.2%)\n0 (0%)\n0 (0%)\n7 (0.5%)\n0 (0%)\n0 (0%)\n\n\n    Intvn Cardiac Cath Nurses Supr\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n\n\n    IT Professional\n1 (&lt;0.1%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Laboratory Mgmt No Pt Care\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n\n\n    Laboratory Mgmt Supr\n6 (0.2%)\n0 (0%)\n1 (0.2%)\n5 (0.4%)\n0 (0%)\n0 (0%)\n\n\n    Med Asst Drctd by Doc or RN MA\n35 (1.1%)\n35 (2.8%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Medical Lab Tchns\n23 (0.7%)\n17 (1.3%)\n6 (1.5%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Medical Record Coder Prof NPC\n6 (0.2%)\n2 (0.2%)\n4 (1.0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Medical Technician\n1 (&lt;0.1%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Medical Technologist MT\n38 (1.2%)\n13 (1.0%)\n25 (6.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Mgmt Other Mgmt\n19 (0.6%)\n0 (0%)\n7 (1.7%)\n8 (0.6%)\n4 (3.6%)\n0 (0%)\n\n\n    Mgmt Other Mgmt HVB\n2 (&lt;0.1%)\n0 (0%)\n2 (0.5%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Mgmt Other Mgmt NoHVB\n3 (&lt;0.1%)\n0 (0%)\n3 (0.7%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Mgmt Other Mgmt Supr\n18 (0.6%)\n1 (&lt;0.1%)\n17 (4.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Mgmt RN Adv Pract\n8 (0.3%)\n0 (0%)\n0 (0%)\n0 (0%)\n8 (7.2%)\n0 (0%)\n\n\n    MRI Technologist\n9 (0.3%)\n1 (&lt;0.1%)\n0 (0%)\n8 (0.6%)\n0 (0%)\n0 (0%)\n\n\n    Nurse Mgmt Mid Lvl CNO Struct\n6 (0.2%)\n0 (0%)\n0 (0%)\n6 (0.5%)\n0 (0%)\n0 (0%)\n\n\n    Nurse Mgmt Supr Lvl CNO Struct\n8 (0.3%)\n0 (0%)\n0 (0%)\n8 (0.6%)\n0 (0%)\n0 (0%)\n\n\n    Nurse Practitioner\n87 (2.8%)\n9 (0.7%)\n8 (2.0%)\n45 (3.4%)\n25 (23%)\n0 (0%)\n\n\n    Nurse Student Extern Intern\n4 (0.1%)\n4 (0.3%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Nursing Aide\n85 (2.7%)\n85 (6.7%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Operating Room Technicians\n51 (1.6%)\n30 (2.4%)\n21 (5.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    OR Technicians Perfusion\n2 (&lt;0.1%)\n2 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Other Health Professional HVB\n15 (0.5%)\n7 (0.6%)\n6 (1.5%)\n2 (0.2%)\n0 (0%)\n0 (0%)\n\n\n    Other Health Sprt OTJ Req HVB\n57 (1.8%)\n55 (4.3%)\n1 (0.2%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n\n\n    Other Technician Aide\n2 (&lt;0.1%)\n1 (&lt;0.1%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Other Technician Aide HVB\n5 (0.2%)\n5 (0.4%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Other Trainee\n6 (0.2%)\n6 (0.5%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Pathology Asst\n5 (0.2%)\n2 (0.2%)\n0 (0%)\n3 (0.2%)\n0 (0%)\n0 (0%)\n\n\n    Patient Access\n52 (1.7%)\n51 (4.0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Patient Access NoHVB\n42 (1.4%)\n41 (3.2%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Patient Care Observer\n34 (1.1%)\n34 (2.7%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Perfusionist\n16 (0.5%)\n1 (&lt;0.1%)\n1 (0.2%)\n1 (&lt;0.1%)\n9 (8.1%)\n4 (57%)\n\n\n    Periop Nursing Support\n11 (0.4%)\n11 (0.9%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    PeriOp Nursing Support\n2 (&lt;0.1%)\n2 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Perioperative Assistant\n40 (1.3%)\n39 (3.1%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Pharmacist RP\n107 (3.5%)\n20 (1.6%)\n3 (0.7%)\n70 (5.4%)\n14 (13%)\n0 (0%)\n\n\n    Pharmacy Mgmt\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n\n\n    Pharmacy Mgmt Supr\n7 (0.2%)\n0 (0%)\n0 (0%)\n1 (&lt;0.1%)\n6 (5.4%)\n0 (0%)\n\n\n    Pharmacy Student Intern\n18 (0.6%)\n18 (1.4%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Pharmacy Technician\n56 (1.8%)\n55 (4.3%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Phlebotomist\n36 (1.2%)\n36 (2.8%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Physician Assistant MD Office\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n1 (14%)\n\n\n    Physician Assistant PA\n71 (2.3%)\n3 (0.2%)\n2 (0.5%)\n44 (3.4%)\n20 (18%)\n2 (29%)\n\n\n    Practical Nurse\n2 (&lt;0.1%)\n0 (0%)\n2 (0.5%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Prof Support Workers NoHVB\n4 (0.1%)\n3 (0.2%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Radiation Tchnlst RT Thrpy\n9 (0.3%)\n3 (0.2%)\n0 (0%)\n5 (0.4%)\n1 (0.9%)\n0 (0%)\n\n\n    Radiology Mgmt Supr\n5 (0.2%)\n0 (0%)\n0 (0%)\n4 (0.3%)\n1 (0.9%)\n0 (0%)\n\n\n    Radiology Tchnlst RT Dgnstc\n45 (1.5%)\n22 (1.7%)\n6 (1.5%)\n17 (1.3%)\n0 (0%)\n0 (0%)\n\n\n    Radiology Tchnlst RT Spec\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n\n\n    Recreation Therapist\n1 (&lt;0.1%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Respiratory Mgmt Supr\n2 (&lt;0.1%)\n0 (0%)\n0 (0%)\n2 (0.2%)\n0 (0%)\n0 (0%)\n\n\n    Respiratory Therapist YM\n58 (1.9%)\n15 (1.2%)\n12 (3.0%)\n31 (2.4%)\n0 (0%)\n0 (0%)\n\n\n    Respiratory Thrpy Tchn\n3 (&lt;0.1%)\n0 (0%)\n0 (0%)\n3 (0.2%)\n0 (0%)\n0 (0%)\n\n\n    RN Direct Bedside\n1,128 (36%)\n124 (9.8%)\n111 (28%)\n893 (68%)\n0 (0%)\n0 (0%)\n\n\n    RN Direct Clinical Specialist\n4 (0.1%)\n0 (0%)\n0 (0%)\n4 (0.3%)\n0 (0%)\n0 (0%)\n\n\n    RN Direct Grad Nurse Bedside\n87 (2.8%)\n0 (0%)\n87 (22%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    RN Direct MD Office\n43 (1.4%)\n12 (0.9%)\n3 (0.7%)\n28 (2.1%)\n0 (0%)\n0 (0%)\n\n\n    RN Direct Pt Care Other\n5 (0.2%)\n1 (&lt;0.1%)\n0 (0%)\n4 (0.3%)\n0 (0%)\n0 (0%)\n\n\n    RN DirectOutpatient Ambulatory\n9 (0.3%)\n5 (0.4%)\n1 (0.2%)\n3 (0.2%)\n0 (0%)\n0 (0%)\n\n\n    RN Indirect Manager\n23 (0.7%)\n0 (0%)\n0 (0%)\n3 (0.2%)\n20 (18%)\n0 (0%)\n\n\n    RN Indirect Pt Care\n47 (1.5%)\n0 (0%)\n3 (0.7%)\n43 (3.3%)\n1 (0.9%)\n0 (0%)\n\n\n    RN Indirect PT Care HVB\n32 (1.0%)\n8 (0.6%)\n0 (0%)\n24 (1.8%)\n0 (0%)\n0 (0%)\n\n\n    Security Mgmt\n1 (&lt;0.1%)\n0 (0%)\n1 (0.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Service Worker\n28 (0.9%)\n28 (2.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Service Worker HVB\n9 (0.3%)\n9 (0.7%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Social Work Mgmt Supr\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n1 (&lt;0.1%)\n0 (0%)\n0 (0%)\n\n\n    Social Worker MS\n29 (0.9%)\n9 (0.7%)\n20 (5.0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Telemetry Technician\n14 (0.5%)\n14 (1.1%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n    Ultrasound Technologist\n8 (0.3%)\n3 (0.2%)\n0 (0%)\n5 (0.4%)\n0 (0%)\n0 (0%)\n\n\n    Unit Clerk Secretary\n40 (1.3%)\n40 (3.2%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n\n\n\n\n1 n (%)\n\n\n\n\nCodetbl_job &lt;-\n  tbl_strata_nested_stack(\n  data_all_ee,\n  strata = job_category,\n  .tbl_fun = ~ .x |&gt; \n    tbl_summary(include = c(sub_category,\n                            annual_salary_category),\n                by = annual_salary_category,\n                percent = \"column\") |&gt; \n    add_overall() |&gt; \n    # replace 0 (0%) and 0 (NA %) with em dash\n    # src: https://github.com/ddsjoberg/gtsummary/issues/2153#issuecomment-2664253147\n    modify_table_body(\n    ~ .x |&gt; \n      mutate(across(all_stat_cols(), ~ ifelse(. %in% c(\"0 (0%)\" ,\"0 (NA%)\", \"NA (NA, NA)\"), NA, .)))\n  ) |&gt; \n  modify_missing_symbol(\n    symbol = \"---\", # converts to an em-dash\n    columns = all_stat_cols(),\n    rows = \n      (var_type %in% c(\"continuous\", \"dichotomous\") & row_type == \"label\") |\n      (var_type %in% c(\"continuous2\", \"categorical\") & row_type == \"level\")\n  ),\n  row_header = \"{strata}, n = {n} ({round(n/N*100)}%) (N = {N})\"\n) |&gt; \n  modify_header(all_stat_cols() ~ \"**{level}**\") |&gt; \n  modify_bold(columns = \"label\", rows = tbl_indent_id1 &gt; 0) |&gt; \n  modify_caption(\"Job category/subcategory by salary\")\ntbl_job\n\n\n\n\nJob category/subcategory by salary\n\n\n\n\n\n\n\n\n\n\nCharacteristic\n\nOverall1\n\n\nLess than 62k1\n\n\n62k-100k1\n\n\n100k-150k1\n\n\n150k-200k1\n\n\nMore than 200k1\n\n\n\n\nAccess, n = 94 (3%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Cath Lab Cardiac\n19 (38%)\n9 (56%)\n9 (69%)\n1 (13%)\n—\n—\n\n\n        Echocardiogram Technician\n13 (26%)\n4 (25%)\n3 (23%)\n6 (75%)\n—\n—\n\n\n        OR Technicians Perfusion\n2 (4.0%)\n2 (13%)\n—\n—\n—\n—\n\n\n        Perfusionist\n16 (32%)\n1 (6.3%)\n1 (7.7%)\n1 (13%)\n9 (100%)\n4 (100%)\n\n\nAH Cardiology, n = 50 (2%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Medical Technologist MT\n38 (88%)\n13 (87%)\n25 (100%)\n—\n—\n—\n\n\n        Pathology Asst\n5 (12%)\n2 (13%)\n—\n3 (100%)\n—\n—\n\n\nAH Lab-Path Technologist, n = 43 (1%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Recreation Therapist\n1 (100%)\n—\n1 (100%)\n—\n—\n—\n\n\nAH Pharmacist, n = 107 (3%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Pharmacist RP\n107 (100%)\n20 (100%)\n3 (100%)\n70 (100%)\n14 (100%)\n—\n\n\nAH PT OT SP Therapist, n = 1 (0%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Dosimetrist\n2 (100%)\n—\n—\n—\n2 (100%)\n—\n\n\nAH Rad-Onc Cancer Professional, n = 2 (0%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Radiology Tchnlst RT Dgnstc\n45 (100%)\n22 (100%)\n6 (100%)\n17 (100%)\n—\n—\n\n\nAH Radiology Technologist-Diag, n = 45 (1%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Crdc Nclr Medicine Tchnlst NMT\n2 (4.1%)\n1 (7.7%)\n—\n1 (2.9%)\n—\n—\n\n\n        CT Technologist\n13 (27%)\n5 (38%)\n—\n8 (23%)\n—\n—\n\n\n        Intrvnl Rdlgy Tchnlst\n7 (14%)\n—\n—\n7 (20%)\n—\n—\n\n\n        MRI Technologist\n9 (18%)\n1 (7.7%)\n—\n8 (23%)\n—\n—\n\n\n        Radiation Tchnlst RT Thrpy\n9 (18%)\n3 (23%)\n—\n5 (14%)\n1 (100%)\n—\n\n\n        Radiology Tchnlst RT Spec\n1 (2.0%)\n—\n—\n1 (2.9%)\n—\n—\n\n\n        Ultrasound Technologist\n8 (16%)\n3 (23%)\n—\n5 (14%)\n—\n—\n\n\nAH Radiology Technologist-Spec, n = 49 (2%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Crtfd Respiratory Thrpy Tchn\n1 (1.6%)\n—\n1 (7.7%)\n—\n—\n—\n\n\n        Respiratory Therapist YM\n58 (94%)\n15 (100%)\n12 (92%)\n31 (91%)\n—\n—\n\n\n        Respiratory Thrpy Tchn\n3 (4.8%)\n—\n—\n3 (8.8%)\n—\n—\n\n\nAH Respiratory, n = 62 (2%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Patient Access\n52 (55%)\n51 (55%)\n1 (50%)\n—\n—\n—\n\n\n        Patient Access NoHVB\n42 (45%)\n41 (45%)\n1 (50%)\n—\n—\n—\n\n\nClerical and Other, n = 87 (3%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Clerical Coord or Supr\n1 (1.1%)\n—\n1 (10%)\n—\n—\n—\n\n\n        Clerical Coord or Supr HVB\n1 (1.1%)\n—\n1 (10%)\n—\n—\n—\n\n\n        Clerical Worker\n74 (85%)\n66 (86%)\n8 (80%)\n—\n—\n—\n\n\n        Clerical Worker NPC\n5 (5.7%)\n5 (6.5%)\n—\n—\n—\n—\n\n\n        Other Trainee\n6 (6.9%)\n6 (7.8%)\n—\n—\n—\n—\n\n\nManagement Middle and Upper, n = 27 (1%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Laboratory Mgmt No Pt Care\n1 (3.7%)\n—\n—\n1 (10%)\n—\n—\n\n\n        Mgmt Other Mgmt\n19 (70%)\n—\n7 (54%)\n8 (80%)\n4 (100%)\n—\n\n\n        Mgmt Other Mgmt HVB\n2 (7.4%)\n—\n2 (15%)\n—\n—\n—\n\n\n        Mgmt Other Mgmt NoHVB\n3 (11%)\n—\n3 (23%)\n—\n—\n—\n\n\n        Pharmacy Mgmt\n1 (3.7%)\n—\n—\n1 (10%)\n—\n—\n\n\n        Security Mgmt\n1 (3.7%)\n—\n1 (7.7%)\n—\n—\n—\n\n\nManagement Nurse Manager, n = 23 (1%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        RN Indirect Manager\n23 (100%)\n—\n—\n3 (100%)\n20 (100%)\n—\n\n\nManagement Nursing, n = 22 (1%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Mgmt RN Adv Pract\n8 (36%)\n—\n—\n—\n8 (100%)\n—\n\n\n        Nurse Mgmt Mid Lvl CNO Struct\n6 (27%)\n—\n—\n6 (43%)\n—\n—\n\n\n        Nurse Mgmt Supr Lvl CNO Struct\n8 (36%)\n—\n—\n8 (57%)\n—\n—\n\n\nManagement Supervisor, n = 41 (1%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Finance Mgmt Supr\n1 (2.4%)\n—\n—\n1 (6.7%)\n—\n—\n\n\n        Intvn Cardiac Cath Nurses Supr\n1 (2.4%)\n—\n—\n1 (6.7%)\n—\n—\n\n\n        Laboratory Mgmt Supr\n6 (15%)\n—\n1 (5.6%)\n5 (33%)\n—\n—\n\n\n        Mgmt Other Mgmt Supr\n18 (44%)\n1 (100%)\n17 (94%)\n—\n—\n—\n\n\n        Pharmacy Mgmt Supr\n7 (17%)\n—\n—\n1 (6.7%)\n6 (86%)\n—\n\n\n        Radiology Mgmt Supr\n5 (12%)\n—\n—\n4 (27%)\n1 (14%)\n—\n\n\n        Respiratory Mgmt Supr\n2 (4.9%)\n—\n—\n2 (13%)\n—\n—\n\n\n        Social Work Mgmt Supr\n1 (2.4%)\n—\n—\n1 (6.7%)\n—\n—\n\n\nNursing Advanced Practice, n = 163 (5%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Nurse Practitioner\n87 (53%)\n9 (75%)\n8 (80%)\n45 (48%)\n25 (56%)\n—\n\n\n        Physician Assistant MD Office\n1 (0.6%)\n—\n—\n—\n—\n1 (33%)\n\n\n        Physician Assistant PA\n71 (44%)\n3 (25%)\n2 (20%)\n44 (47%)\n20 (44%)\n2 (67%)\n\n\n        RN Direct Clinical Specialist\n4 (2.5%)\n—\n—\n4 (4.3%)\n—\n—\n\n\nNursing RN Direct Pt Care, n = 1229 (40%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        RN Direct Bedside\n1,128 (92%)\n124 (95%)\n111 (56%)\n893 (99%)\n—\n—\n\n\n        RN Direct Grad Nurse Bedside\n87 (7.1%)\n—\n87 (44%)\n—\n—\n—\n\n\n        RN Direct Pt Care Other\n5 (0.4%)\n1 (0.8%)\n—\n4 (0.4%)\n—\n—\n\n\n        RN DirectOutpatient Ambulatory\n9 (0.7%)\n5 (3.8%)\n1 (0.5%)\n3 (0.3%)\n—\n—\n\n\nNursing RN Indirect Pt Care, n = 79 (3%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        RN Indirect Pt Care\n47 (59%)\n—\n3 (100%)\n43 (64%)\n1 (100%)\n—\n\n\n        RN Indirect PT Care HVB\n32 (41%)\n8 (100%)\n—\n24 (36%)\n—\n—\n\n\nNursing RN MD Office, n = 43 (1%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        RN Direct MD Office\n43 (100%)\n12 (100%)\n3 (100%)\n28 (100%)\n—\n—\n\n\nNursing Support, n = 488 (16%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Cert Nursing Assistant CNA\n235 (48%)\n235 (48%)\n—\n—\n—\n—\n\n\n        Med Asst Drctd by Doc or RN MA\n35 (7.2%)\n35 (7.2%)\n—\n—\n—\n—\n\n\n        Nurse Student Extern Intern\n4 (0.8%)\n4 (0.8%)\n—\n—\n—\n—\n\n\n        Nursing Aide\n85 (17%)\n85 (18%)\n—\n—\n—\n—\n\n\n        Patient Care Observer\n34 (7.0%)\n34 (7.0%)\n—\n—\n—\n—\n\n\n        Periop Nursing Support\n11 (2.3%)\n11 (2.3%)\n—\n—\n—\n—\n\n\n        PeriOp Nursing Support\n2 (0.4%)\n2 (0.4%)\n—\n—\n—\n—\n\n\n        Perioperative Assistant\n40 (8.2%)\n39 (8.0%)\n1 (33%)\n—\n—\n—\n\n\n        Practical Nurse\n2 (0.4%)\n—\n2 (67%)\n—\n—\n—\n\n\n        Unit Clerk Secretary\n40 (8.2%)\n40 (8.2%)\n—\n—\n—\n—\n\n\nProfessional Clinical, n = 44 (1%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Other Health Professional HVB\n15 (34%)\n7 (44%)\n6 (23%)\n2 (100%)\n—\n—\n\n\n        Social Worker MS\n29 (66%)\n9 (56%)\n20 (77%)\n—\n—\n—\n\n\nProfessional Finance, n = 4 (0%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Credit Billing Professionals\n3 (75%)\n—\n3 (75%)\n—\n—\n—\n\n\n        Finance Professional\n1 (25%)\n—\n1 (25%)\n—\n—\n—\n\n\nProfessional Info Tech, n = 1 (0%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        IT Professional\n1 (100%)\n—\n1 (100%)\n—\n—\n—\n\n\nProfessional Other, n = 24 (1%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Administrative Prof NoHVB\n2 (8.3%)\n—\n2 (17%)\n—\n—\n—\n\n\n        Administrative Professional\n9 (38%)\n2 (29%)\n2 (17%)\n5 (100%)\n—\n—\n\n\n        Administrative Support ProfNPC\n3 (13%)\n—\n3 (25%)\n—\n—\n—\n\n\n        Medical Record Coder Prof NPC\n6 (25%)\n2 (29%)\n4 (33%)\n—\n—\n—\n\n\n        Prof Support Workers NoHVB\n4 (17%)\n3 (43%)\n1 (8.3%)\n—\n—\n—\n\n\nService, n = 37 (1%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Service Worker\n28 (76%)\n28 (76%)\n—\n—\n—\n—\n\n\n        Service Worker HVB\n9 (24%)\n9 (24%)\n—\n—\n—\n—\n\n\nTechnician, n = 329 (11%) (N = 3094)\n\n\n\n\n\n\n\n\n    Job sub category\n\n\n\n\n\n\n\n\n        Crtfd Ortho Prosthetics Tchn\n1 (0.3%)\n1 (0.3%)\n—\n—\n—\n—\n\n\n        EEG EMG Technician\n3 (0.9%)\n—\n3 (8.1%)\n—\n—\n—\n\n\n        Emergency Medical Tchn EMT\n54 (16%)\n52 (18%)\n2 (5.4%)\n—\n—\n—\n\n\n        GI Technician\n8 (2.4%)\n6 (2.1%)\n2 (5.4%)\n—\n—\n—\n\n\n        Medical Lab Tchns\n23 (7.0%)\n17 (5.8%)\n6 (16%)\n—\n—\n—\n\n\n        Medical Technician\n1 (0.3%)\n1 (0.3%)\n—\n—\n—\n—\n\n\n        Operating Room Technicians\n51 (16%)\n30 (10%)\n21 (57%)\n—\n—\n—\n\n\n        Other Health Sprt OTJ Req HVB\n57 (17%)\n55 (19%)\n1 (2.7%)\n1 (100%)\n—\n—\n\n\n        Other Technician Aide\n2 (0.6%)\n1 (0.3%)\n1 (2.7%)\n—\n—\n—\n\n\n        Other Technician Aide HVB\n5 (1.5%)\n5 (1.7%)\n—\n—\n—\n—\n\n\n        Pharmacy Student Intern\n18 (5.5%)\n18 (6.2%)\n—\n—\n—\n—\n\n\n        Pharmacy Technician\n56 (17%)\n55 (19%)\n1 (2.7%)\n—\n—\n—\n\n\n        Phlebotomist\n36 (11%)\n36 (12%)\n—\n—\n—\n—\n\n\n        Telemetry Technician\n14 (4.3%)\n14 (4.8%)\n—\n—\n—\n—\n\n\n\n\n1 n (%)\n\n\n\n\nCodesummary_job_income &lt;- \n  data_all_ee |&gt; \n  mutate(total_employees = n_distinct(ee_id)) |&gt;\n  group_by(sub_category) |&gt; \n  mutate(n_job_sub_category = n_distinct(ee_id),\n         prop_job_sub_category = n_job_sub_category/total_employees) |&gt; \n  group_by(job_category, sub_category, annual_salary_category, \n           n_job_sub_category, prop_job_sub_category) |&gt; \n  summarize(n_employees = n_distinct(ee_id),\n            prop_employees = n_employees/n_job_sub_category) |&gt;\n  unique() |&gt; \n  ungroup() |&gt; \n  # convert to uppercase so sorting alphabetically ignores case\n  arrange(str_to_upper(job_category)) |&gt; \n  tidyr::pivot_wider(names_from = annual_salary_category,\n                     values_from = c(n_employees, prop_employees),\n                     names_glue = \"{.value}_{annual_salary_category}\") |&gt; \n  clean_names()\n\nWarning: Returning more (or less) than 1 row per `summarise()` group was deprecated in\ndplyr 1.1.0.\nℹ Please use `reframe()` instead.\nℹ When switching from `summarise()` to `reframe()`, remember that `reframe()`\n  always returns an ungrouped data frame and adjust accordingly.\n\n\n\nCode# gt ----\nsummary_job_income |&gt;\n  group_by(job_category) |&gt; \n  gt::gt() |&gt; \n  gt::fmt_percent(\n    columns = tidyselect::contains(\"prop\"),\n    decimals = 1\n  ) |&gt; \n  gt::summary_rows(\n    groups = everything(),\n    columns = tidyselect::starts_with(\"n_\"),\n    fns = list(\"All\" ~ sum(., na.rm = TRUE)),\n    fmt = ~ fmt_number(., decimals = 0),\n    side = \"top\"\n  ) |&gt;\n  gt::summary_rows(\n    groups = everything(),\n    columns = tidyselect::starts_with(\"prop_\"),\n    fns = list(\"All\" ~ sum(., na.rm = TRUE)),\n    fmt = ~ fmt_percent(., decimals = 1),\n    side = \"top\"\n  ) |&gt;\n  gt::grand_summary_rows(\n    columns = tidyselect::starts_with(\"n_\"),\n    fns = list(Total ~ sum(., na.rm = TRUE)),\n    fmt = ~ fmt_number(., decimals = 0, use_seps = FALSE)\n  ) |&gt;\n  gt::cols_merge_n_pct(\n    col_n = n_job_sub_category,\n    col_pct = prop_job_sub_category\n  ) |&gt; \n  gt::cols_merge_n_pct(\n    col_n = n_employees_less_than_62k,\n    col_pct = prop_employees_less_than_62k\n  ) |&gt; \n  gt::cols_merge_n_pct(\n    col_n = n_employees_62k_100k,\n    col_pct = prop_employees_62k_100k\n  ) |&gt; \n  gt::cols_merge_n_pct(\n    col_n = n_employees_100k_150k,\n    col_pct = prop_employees_100k_150k\n  ) |&gt; \n  gt::cols_merge_n_pct(\n    col_n = n_employees_150k_200k,\n    col_pct = prop_employees_150k_200k\n  ) |&gt; \n  gt::cols_merge_n_pct(\n    col_n = n_employees_150k_200k,\n    col_pct = prop_employees_150k_200k\n  ) |&gt; \n  gt::cols_merge_n_pct(\n    col_n = n_employees_more_than_200k,\n    col_pct = prop_employees_more_than_200k\n  ) |&gt; \n  gt::tab_spanner(\n    columns = tidyselect::contains(\"job_sub_category\"),\n    label = gt::md(\"**Overall**\")\n  ) |&gt; \n  gt::tab_spanner(\n    columns = tidyselect::contains(\"less_than_62k\"),\n    label = gt::md(\"**Less than 62k**\")\n  ) |&gt; \n    gt::tab_spanner(\n    columns = tidyselect::contains(\"62k_100k\"),\n    label = gt::md(\"**62k-100k**\")\n  ) |&gt; \n  gt::tab_spanner(\n    columns = tidyselect::contains(\"100k_150k\"),\n    label = gt::md(\"**100k-150k**\")\n  ) |&gt; \n  gt::tab_spanner(\n    columns = tidyselect::contains(\"150k_200k\"),\n    label = gt::md(\"**150k-200k**\")\n  ) |&gt; \n  gt::tab_spanner(\n    columns = tidyselect::contains(\"more_than_200k\"),\n    label = gt::md(\"**More than 200k**\")\n  ) |&gt; \n  gt::sub_missing(\n    columns = everything(),\n    rows = everything(),\n    missing_text = \"---\"\n  ) |&gt; \n  gt::cols_label(\n    starts_with(\"n_\") ~ \"n (%)\"\n  ) |&gt;\n  gt::tab_header(\n    title = \"Employees by job category/subcategory\"\n  )",
    "crumbs": [
      "Project",
      "Data cleaning"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "PPMC Human Resources Data",
    "section": "",
    "text": "This project explores Penn Presbyterian Medical Center (PPMC) employee use of benefits."
  }
]